<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Darian Rosebrook: Product Designer, Seattle WA</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <meta
      name="description"
      content="Hey there! I'm Darian Rosebrook. I work as a senior product designer in the Seattle area where I'm focused on design systems and
    better end-to-end user experiences."
    />
    <base href="/" />

    <link
      rel="stylesheet"
      href="https://pro.fontawesome.com/releases/v5.13.0/css/all.css"
      integrity="sha384-IIED/eyOkM6ihtOiQsX2zizxFBphgnv1zbe1bKA+njdFzkr6cDNy16jfIKWu4FNH"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="/index.css"
    >
  </head>

  <body class="main">
    <root-portfolio
      ><h1>
        Currently performing critical updates to this site.
      </h1>
      <p>
        To view my current work, please visit: <a href="https://darian.is/a-designer" target='_blank' norel noreferrer>darian.is/a-designer</a>
      </p>
    </root-portfolio>
    <script type="module" src="https://cdn.jsdelivr.net/gh/zerodevx/zero-md@2/dist/zero-md.min.js"></script>
    <script type="module" src="./src/index.js"></script>
    <script type="text/javascript">
      class SlinkyCursor {
        constructor(settings) {
          const defaults = {
            size: 40,
            laziness: 4.5,
            stiffness: 5,
          };
          this.settings = Object.assign(defaults, settings);
          this.mouse = { x: 0, y: 0 };
          this.deltaPos = { x: 0, y: 0 };
          this.pos = { x: 0, y: 0 };
          this._animate = this._animate.bind(this);
        }
        init() {
          this._createPest();
          this._addEventListener();
          this._animate();
        }
        _createPest() {
          this.pest = document.createElement('span');
          this.pest.id = 'pest';
          this.pest.style.height = `${this.settings.size}px`;
          document.body.appendChild(this.pest);
        }
        _addEventListener() {
          window.addEventListener('mousemove', e => {
            const { pageX: x, pageY: y } = e;
            this.mouse = { x, y };
          });
          window.addEventListener('mousedown', e => {
            this.settings.size = 40;
            this.pest.style.cssText += ` border-color: var(--neutral-layer-l2); border-style: dashed;`;
          });
          window.addEventListener('mouseup', e => {
            this.settings.size = 40;
            this.pest.style.cssText += `border-width: 2px; border-color: var(--foreground);border-style: solid;`;
          });
        }
        _animate() {
          const { x: xMouse, y: yMouse } = this.mouse;
          const { x: xPos, y: yPos } = this.pos;
          const { x: xDelta, y: yDelta } = this.deltaPos;
          const { laziness, stiffness, size } = this.settings;
          this.deltaPos = { x: xMouse - xPos, y: yMouse - yPos };
          this.pos = {
            x: xPos + xDelta / laziness,
            y: yPos + yDelta / laziness,
          };
          this.pest.style.cssText += `top: ${this.pos.y - size / 2}px; left: ${
            this.pos.x - size / 2
          }px;`;
          // Slinky
          const angleDeg =
            (Math.atan2(yMouse - this.pos.y, xMouse - this.pos.x) * 180) /
            Math.PI;
          const stretchWidth =
            size +
            this._diff(this.pos.x, this.pos.y, this.mouse.x, this.mouse.y) /
              stiffness;
          this.pest.style.cssText += `width: ${stretchWidth}px`;
          // Angle slinky
          this.pest.style.cssText += `transform: rotate(${angleDeg}deg)`;
          requestAnimationFrame(this._animate);
        }
        _diff(x1, y1, x2, y2) {
          return Math.hypot(x2 - x1, y2 - y1);
        }
      }
      const slinky = new SlinkyCursor();
      slinky.init();
    </script>
  </body>
</html>